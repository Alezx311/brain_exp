# Creating a Text Corpus

Now we will go through some basic examples of how to create a text corpus which can be trained on.

The first step of building a text corpus of course involves gathering some text, and saving it to the folder ./data/

One way this can be done is to scrape some webpages. Let's try this with a sample script, scrape_wiki_how.js, which visits wikihow.com, enters a search term, opens the first 10 results, then saves the contents of each result into a text file within the folder './data/wikihow_results'

Run the command:

```js
node scrape_wiki_how.js cats
```

Take a look at the files within the folder './data/wikihow_results'

To combine these individual files into a single corpus:

```js
node combine_files_into_corpus.js data/wikihow_results 'wikihow.txt' "|"
```

Combining Text File into a Corpus
A tool that you will likefly find useful is the command:

```js
node combine_files_into_corpus.js {{source_folder}} {{destination_file.txt}} {{delimiter}}
```

This takes all of the contents from text files in the source_folder, concatenates them using the delimiter, and writes the concattenated files to text in destination_file.txt within the folder /corpus

So, for example:

```js
yarn combine_file_into_corpus ./data/extracted_facebook_posts_text facebook_posts.txt "|"
```

Will grab all text from files in the folder ./data/extracted_facebook_posts_text concatenate them with the symbol | and write the concatenated text to the file ./corpus/facebook_posts.txt

This text can then be used train an LSTM using the training script above.

Converting facebook posts text to a corpus
After you download your facebook posts, you can convert them into text files for a corpus by running:

```js
node convert_facebook_posts.js ./data/your_posts_1.json facebook_posts
```

Where the ./data/your_posts_1.json is the path to the posts json file, and facebook_posts is the folder within the data directory to save the contents of each post to.

These can then be combined into a corpus with:

```js
node combine_files_into_corpus.js ./data/facebook_posts/ facebook_posts.txt "|"
```

This can then be trained with:

```js
yarn train facebook_posts.txt \
  --lstmLayerSize 100 \
  --epochs 10 \
  --save facebook_posts
```

And have then generate text with:

yarn gen facebook_posts.txt facebook_posts
Posting to facebook with an lstm
After you have trained a model, you can run a sample script to post to facebook with text generated by it.

```js
yarn post_to_facebook_lstm shakespeare.txt shakespeare \
  --temperature 0.7
```
